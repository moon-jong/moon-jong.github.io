---
title: Graph1 Basic
use_math: true
tags:
- graph
---

# Intro
그래프가 인공지능에 쓰인다는 이야기는 들어보았지만 어떻게 사용되는지에 대하여 알아본적은 없었다.

이번주는 그래프 이론이 인공지능에 어떻게 사용되고 이용되는지 알아볼 수 있는 시간이 될것같다.

그 전에 먼저 왜 그래프 이론을 배워야 하는지, 또 그래프 이론의 기본이 무엇인지 중점으로 알아보겠다.


# Graph란?
그래프 혹은 네트워크라고도 불리운다. 

![]({{ 'assets/img/images/graph.png' | relative_url }})
*출처 : https://adatis.co.uk/business-insights-with-graph-theory-introduction-to-graph-theory-and-algorithms/*

위의 그림을 보면 수많은 동그라미들이 선들로 서로 얽히고 연결되어있는 그림이 그래프라 할 수 있다.

동그라미는 정점, 노드, vertex라 부르며
선들은 간선, 엣지 , 링크라 부른다.

그래프는 위의 그림처럼 복잡하게 얽혀있는 관계에 대한 수학적 표현이다.
우리가 살고있는 사회 혹은 수많은 관계(먹이 **사슬**, 지식 그래프 등등)들은 수많은 복잡계로 이루어져있으며 그래프 이론은 이러한 관계들의 수학적인 정의라 할 수 있다.

다시말해 그래프 이론을 공부하며 연구하는것은 우리 사회 관계망, 네트워크, 뉴런 등 수많은 연구로 이어질 수 있다.

그래프를 이용한 인공지능 문제는 정점분류문제, 연결예측문제, 추천 등이 있으며 현재 활발히 이용되고 있는 알고리즘중 하나이다.

# Graph!!
## 유형 및 분류
그래프는 간선의 방향, 가중치 혹은 노드의 클래스에따라 그 유형을 나눌 수 있다.

**간선의 방향성에따른 분류**

![]({{ 'assets/img/images/direction_graph.png' | relative_url }})

간선의 방향의 존재유무에 따라 유향 그래프, 무향 그래프로 나뉜다. 그림에 나와있는것처럼 페이스북 친구 그래프는 상대가 신청을 하고 내가 수락을 해야만 이어지는 간선인 반면 트위터, 인스타그램 팔로우 그래프의 경우 내가 팔로우한다고 하여 상대방이 나를 팔로우하지는 않는다. 일종의 일방적, 쌍방적으로 해석할 여지가 있다.

**간선의 가중치 유무에 따른 분류**

![]({{ 'assets/img/images/weight_graph.png' | relative_url }})

간선의 가중치 유무에 따른 그래프이다. 그래프 관련 알고리즘 문제를 풀 때 노드간 최단거리 계산 문제가 간선의 가중치로 출제된 문제가 있었다. 단순히 몇개의 간선과 노드를 지나쳤는지 뿐만아니라 간선의 가중치도 고려하여 풀어야했던 문제가 기억난다. 

**노드의 클래스에 따른 분류**

![]({{ 'assets/img/images/node_class_graph.png' | relative_url }})

그래프의 노드가 어떠한 노드인가에 따라 그래프가 달라진다. 웹 그래프의 경우 모든 웹 페이지를 동등하게 보기 때문에 서로 연결 될 수 있다.
하지만 구매자와 상품간 연결, 영화 배우와 출연 작품에 대한 노드는 구매자, 상품 이라는 다른 클래스의 노드들이 존재하고 서로 다른 노드끼리 연결될 수 있다. (같은 클래스 연결 X) 

## 그래프 표현
기준 정점과 이웃한 정점을 이웃(Neighbor)라 부르며 이를 표기하는 방법이 있다.
![]({{ 'assets/img/images/undirected_graph.png' | relative_url }})

무향 그래프일경우 $N(v)$ 또는 $N_{v}$로 표기할 수 있으며 $N(4)$의 경우 4번 정점과 이웃한 정점들을 가리키며 위의 그림에서 {3, 5, 6}이 된다.

![]({{ 'assets/img/images/deirected_neighbor.png' | relative_url }})

유향 그래프일경우 나가는 이웃과 들어오는 이웃을 나눠야하기 때문에 $N_{in}(v), N_{out}(v)$으로 표기한다.


# 실제 그래프와 랜덤 그래프
실제 그래프란 우리 삶의 수많은 복잡계를 의미한다. 웹, 소셜 네트워크, 전자상거래 등 수많은 복잡계가 존재한다.

랜덤그래프란 확률적 과정을 통해 생성된 그래프를 의미하며 한 간선의 생성확률이 다른 간선의 생성과 독립적인 그래프를 뜻한다.
표기로는 $G(n,p)$로 표기되고 $n$은 노드의 갯수, $p$는 간선의 생성 확률을 이야기한다.

예로 $G(3, 0.3)$은 총 여덟가지의 경우의 수가 존재한다.

![]({{ 'assets/img/images/random_graph.png' | relative_url }})


이제 우리가 임의로 생성할 수 있는 랜덤 그래프와 실제 세상의 그래프를 몇가지 비교로 알아보자

## 작은세상 효과
[케빈 베이컨 게임](https://namu.wiki/w/6%EB%8B%A8%EA%B3%84%20%EB%B2%95%EC%B9%99)이라고 아는가? 
케빈 베이컨이라는 배우가 이론정립과정에 참여한 것은 아니지만 거의 모든 헐리웃 배우들이 6단계만 거치면 서로 이어지는 관계를 형성하고 있다는 것을 알아내었다.
~~그 중심에 케빈베이컨이... 할로우맨...~~


마찬가지로 여섯단계 분리라는 실험을 '스탠리 밀그램'이라는 사라미 수행하였다.

오마하와 위치타에서 500명의 사람을 뽑고 보스턴의 한 사람에게 편지를 전달하게끔 하였다. (두 위치는 굉장히 멀다)

편지의 회수율은 1/4정도였고 평균적으로 6단계를 거쳐 도착하였다.
이러한 현상을 작은세상효과라 부른다.

이는 실제 세상 그래프와 랜덤그래프가 모두 높은 확률로 나타날 가능성이 있다.
하지만 체인구조, 사이클 그래프, 격자그래프의 경우 작은세상 효과는 존재하지 않는다.

![]({{ 'assets/img/images/chian.png' | relative_url }})

## 연결성의 두터운  꼬리 분포
연결성이란 한 노드가 얼마나 많은 이웃을 가지고있는가를 나타내는 수이다.

![]({{ 'assets/img/images/connection.png' | relative_url }})

실제 그래프는 하나의 노드가 수많은 노드와 연결되어있는 **허브(hub)**역할을 하는 노드가 존재할 가능성이 높다.

![]({{ 'assets/img/images/jenny_insta.png' | relative_url }})

제니의 인스타 팔로워 수는 4천만명으로 하나의 노드에 무려 4천만개의 계정이 연결되어있다. 

하지만 랜덤그래프의 경우 모든 간선과 연결될 확률이 일정하므로 높은 확률로 연결성 분포가 정규분포로 나타날것이다.
때문에 허브 정점이 존재할 가능성이 0에 가깝다.


## 거대 연결 요소
거대 연결 요소는 하나의 가장 큰 그래프 묶음이다.
![]({{ 'assets/img/images/big_connection_factor.png' | relative_url }})

위의 그림에서 {1,2,3,4,5}, {6,7,8}, {9}가 각각 거대 연결 요소라 할 수 있다.
거대 연결요소는 두가지 중요한 조건이 있는데

$(1)$ 연결 요소에 속하는 정점들은 결로로 연결될 수 있다.
$(2)$ $(1)$의 조건을 만족하면서 정점을 추가할 수 없다.

다시말해 나누어진 네트워크의 최대 집합이 커대 연결 요소라 할 수 있다.

따라서 {1,2,3,4}만 묶는다면 5라는 정점을 연결할 수 있으므로 $(2)$에 위배되고
{6,7,8,9}는 경로로 연결될 수 없기때문에 $(1)$에 위배된다.

![]({{ 'assets/img/images/MSN_big.png' | relative_url }})
실제 그래프에선 거의 대다수를 포함하는 거대 연결 요소가 존재한다.

랜덤그래프에도 높은 확률로 거대연결요소가 존재할 수 있지만 정점들의 평균 연결성이 1보다 충분히 커야한다.
